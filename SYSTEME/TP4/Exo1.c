/*
@autor : Sofiane BELMEHDI
GitHub : https://github.com/Mr-struct/
WebSite: http://mrstruct.000webhostapp.com/
		#################################################################
		#	Attention!!	je m'adresse aux petits malins 					#
		#	ne copiez pas ce code pour votre tp de Systeme 				#
		#	je le saurai alors évitez moi svp du travail en plus 	    #
		#	Vous avez le droit de modifier ce code                      #
		#	et de l'utiliser pour comprendre 							#
		#	Merci! 													    #
		#################################################################
Hack to learn don't learn to hack!

+----------------------------------------------------------------------------------------------------------------------------------------------------s
-                                                                                                                                                    o
-                                                                                                                                                    o
-                      `--`                                                                                                                          o
-                    `-.`..-.                                                                                                                        o
-                    ...`:--.--`                                                                                        .-.``.:`                     o
-                    .o  `.`.-..-.                                                                                   `--:/-`..-                      o
-                    `:   .`  .-..--`                                                                              .----`-  .+`                      o
-                     .   ``    `--`.-`                                                                         `----.  ``  `:                       o
-                     -    -      `.-..-.`                                                                   `.----`   `.   .`                       o
-                     -    `.        .-...-`                                                               .----.      .    .                        o
-                     ``    .          `-...-.                                                          `.---.`       ``   .`                        o
-                     `.    .`           `.-..-.`                                                     .----`         `.   `.                         o
-                     `.    `.              `-.`.-.                                                .----.`           .`   .`                         o
-                      .     .`               `--``-.                                           `.---.`             .`    -                          o
-                      .     `.                 `::`-.                                        .----.`              `.    .`                          o
-                      .`     .`              `....- -`                                     `--:.`                 .`   `.                           o
-                      .`     `.           `.-.`   -` -`                                   ----.-.``              `.    .`                           o
-                      ``      .         `.-`      `- `:`                                `-.-.   ``.-.``         `.     -                            o
-                      `.      `.     `.-.`         -. `:`                             `.-.-`        ``...``     .`    .`                            o
-                      `.       -   .-.`            `-  ::-..````````````````````````.-::`-              ``...```.     .                             o
-                       .       `-.-.               .- .:  ``````               `````  `/`:                  `.:+`    ``                             o
-                       .      `-+:.`               :`.:       ``````       ``````      --:               ``...--.`   .                              o
-                       .   `..`.- `.-.`            :`/`            `......``            /-.           `...`   : `.  .`                              o
-                       .`..`   :`    `.-.`        ..:.          ```.--+o:...```         .+.       ``...`     -.   .`-                               o
-                       `:`     :        `.-.`     -:-      ```...````:. -- ``....```     //    `....         :    `/`                               o
-                        `-.   `-           `...`  +: ```....``     .:`   --      ``..-.``.s``...`           -` `.-.`                                o
-                          .-  ..              `.-/y-..```         .-      -:           ``-o//-...`````     `:`...                                   o
-                           `-`:`     ``....-......--`            --        .:`          ::`    ````.`.....-/:.                                      o
-                             :+..-.....```        ``-/`        `:.          .:`       .:-......`           `.                                       o
-                             ..     `...............``--`     `:.            `:`    `--       `........`    `.                                      o
-                            `.   `:.`                  `--`  .:`              `:`  .:`                 ....- .`                                     o
-                           `.   .-`                      `:--:                 `:.:.                       .- .`                                    o
-                           .` `-.             ```````......::                    o-....```                  `:`-                                    o
-                          `. `-`    `:....-..``.`````-:    ``                    -`   ``:..`......-....`     `-..                                   o
-                         `- --   .----                :`   ``                    -`    `-             ./--`    --.                                  o
-                         ..:` .-.` `-                 `-   .                     -.    :`              `-``--.  .:`                                 o
-                        .:---.`   .-                   -`  .                     -.   .-                 -`  `.--.o`                                o
-                       .y:.      `-  ..-.`...`.--.`...`:-  -                     ..   +-.-......`         -`    `./o                                o
-                       -`       `: .-`                  :  -                     `-  -.         `..........:`      `-                               o
-                      `.       `-.:-`````               `-`.                      : `:                     :+`      `-                              o
-                      .`      `::/-//-.::.......--....-  :..                      / -. ..````````````--``.:--s-      `.                             o
-                      -      `oo-`  `:-  .-.          `-..-`     <MR-STRUCT>      :.-`-.         `.--` `--``-:o-      `.                            o
-                     .`    `./:.      `:-  `--`         `-s-                      -+-.         .--`  .-.`    ./o..``   `.                           o
-                     . ....`   `..`     .:.   .-.      `.:s-                      :y..``    .--`   .-`   `--:.`    ``..`:.                          o
-                    ./.`          `...`   .:`   `--`.-..--`:                     `:--```....`   `--` `.---`           `.`                           o
-                     `..`             `..`` .-`   `.` `:.  -`                    -. .-        `-.`.---`            `..`                             o
-                        `.`              `...`--`    .:`   `-                   `:   `-`    .-----`              `..                                o
-                          `.`               ``..:- `--      :`                  -`    `-.`:/:..`               `.`                                  o
-                            `--........```......-/++.       -.                 `-       o+:...`.......````...-.`                                    o
-                               `..``      ``````` `o:       `-                 :`     `:+               ``.``                                       o
-                                  ````             -::`      :`               .-     `-:`            ``.`                                           o
-                                     `````         `-.:`     `-               :`    .-.-         ``.``                                              o
-                                        ``.``       :``:`     -              .-    .- -`      ``.``                                                 o
-                                            ````    `- `:`    -`             :    .- .-   ``.``                                                     o
-                                               `..`` :  `:.   `-            -.   -.  -```.``                                                        o
-                                                  ``.-.   :.   :`          `:  `-`  .:.``                                                           o
-                                                     `.    --  .-          -. `-`   -`                                                              o
-                                                      .`    -- `-         `: .-    .`                                                               o
-                                                      `.     .:`-`        :.--     .                                                                o
-                                                       .      ./.-       .::.     .`                                                                o
-                                                       .`    `-+//       //+-`   `.                                                                 o
-                                                       `.  `:- -`o/-...-:o.`.:.  .`                                                                 o
-                                                        ..:-   - `o.```.+`.`  .:..                                                                  o
-                                                        `/`    -  `-`.`-. .`   `/                                                                   o
-                                                         `-`   -   `.+.`  .`  `-`                                                                   o
-                                                          `:.  -  `.`...  .` `-                                                                     o
-                                                            -- - `.  .``.`.`.-                                                                      o
-                                                             .::.----::-.----                                                                       o
-                                                              `+//-.```.:/+-                                                                        o
-                                                                 *********                                                                          o
-                                                                   *****                                                                            o
-                                                                    		                                                                             o
-                                                                                                                                                    o
-                                                                                                                                                    o
o::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::y




*/
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
/*
	alloue la memoir d'un tableau de taille dimension
	et  initialise ce denier à val
*/
int * allouer_tableau(int dimension, int val) {
	int *tab = malloc(dimension * sizeof( int[dimension])); // allocation de la memoir de dimension X 4octer
	//test si l'allocation est correcte
	if(tab == NULL) {
		exit(EXIT_FAILURE); // arreter tout
	}
	else { // sinon on parcour le tableau et on init toutes ces case à val
		int i = 0;
		for(i = 0; i < dimension; i++){
			tab[i] = val;
			/* decomenter pour afficher linit
			printf("tab[%d] = %d \n",i,val);
			*/
		}
	}
	return tab;
}

/*
	Recupere n entier entres au clavier
	et les stocke dans un tableau de taille n
*/
int *recuperer_n_entier(int n){
	int *tab = allouer_tableau(n,0); //allocation de tableau
	// test si l'allocation est bien faite
	if(tab == NULL) {
		exit(EXIT_FAILURE); // on arrete tout
	}
	else { //sinon
		int i = 0;
		for(i = 0; i < n ; i++){
			printf("Entrez un entier : \n");
			scanf("%d",&tab[i]); // on recupere les entier i entrée au clavier à la case i
			printf("tab[%d] = %d \n",i,tab[i]);
		}
	}
	return tab;
}
/*
 	Libere la memoir occuper par le tableau vecteur
	met tout le tableau à NULL (0)
*/
void liberer_tableau(int *vecteur) {
	if(vecteur!=NULL) { // test le tableau n'est pas un poiteur NULL
		free(vecteur); // on libere la memoir
		vecteur = NULL; // on met à NULL tout l'espace liberer
	}

}
/*
	simple affichage du tableau vecteur de dimension
	par parcour simple aussi du tableau
*/
void affiche_tableau(int *vecteur,int dimension) {
	int i = 0;
	for(i = 0; i < dimension; i++) {
		printf("TAB[%d] = %d\n",i,vecteur[i]);
	}
}
/*
	recuper des entier au clavier
	si le nombre de saisi est > la taille du tableau
	alors on augmente la taille du tableau de n
	et ce jusqu'a ce que la taille du tableau >= à taille Max
*/
int *recuperer_entier(int n, int taille_max) {
	int *tab = allouer_tableau(n,0); // allocation memoir d'un tableau de taille n
	int cpt = 0; // un compteur pour le nombre de saisi
	while(n <= taille_max) { // tant que la taille du tableau est <= a taille_max
		// on test si on a depasser le nombre de saisi
		if(cpt == n ) {
			n = n+n; // augmente n
			tab = realloc(tab, n *sizeof(int[n])); // on augmente la taille actuelle de notre tableau
		}
		printf("Entrez un entier : \n");
		scanf("%d",&tab[cpt]); // on enregistre la saisi directement dans le tableau
		printf("tab[%d] = %d \n",cpt,tab[cpt]);
		cpt = cpt+1; // on incremente le compteur
	}
	return tab;
}
/*
	alloue la memoir d'un tableau à deux dimension de taille lignes*colonnes
	et  initialise ce denier à val
*/
int **allouer_matrice(int lignes, int colonnes, int val) {
	int **tab2D = malloc( lignes * sizeof(int[lignes]));// allocation des case en ligne
	// test si l'allocation est bien faite
	if(tab2D == NULL){
		exit(EXIT_FAILURE); // on arrete tout
	}
	int i = 0;
	int j = 0;
	for(i = 0; i < lignes; i++){
		tab2D[i] = malloc(colonnes * sizeof(int[colonnes])); // allocation des cases en colonnes
		for(j = 0; j < colonnes; j++) {
			tab2D[i][j] = val; //on init le tableau à val
		}
	}
	return tab2D;
}
/*
 	Libere la memoir occuper par le tableau[][] vecteur
	met tout le tableau à NULL (0)
*/

void liberer_matrice( int **matrice, int n) {
	int i = 0;
	for(i = 0; i < n; i++) {
		if(matrice[i] != NULL) { // on test si le tableau est non vide
			free(matrice[i]); // on libere la seconde dimension
			matrice[i] = NULL; // on remet les pointeurs à NULL
		}
	}
	free(matrice); // on libere la premier dimension
	matrice = NULL; // on remet les pointeurs à NULL
}

/*
	Affiche les valeurs stocker dans un tableau 2D
*/
void afficher_matrice(int **matrice, int lignes, int colonnes) {
	int i = 0;
	int j = 0;
	for(i = 0; i < lignes; i++) {
		for(j = 0; j < colonnes; j++) {
			printf("TAB[%d][%d] = %d \n",i,j,matrice[i][j]);
		}
	}
}
// fonction de test
void test() {
	printf("Début L EXO1:  \n \n \n");
	printf("Début de la fonction Allouer_tableau \n");
	int *Tab1 = allouer_tableau(10,15);
	printf("Fin de la fonction Allouer_tableau \n \n");


	printf("Début de la fonction recuperer_n_entier \n");
	int *tab2 = recuperer_n_entier(5);
	printf("Fin de la fonction recuperer_n_entier \n \n");


	printf("Début de la fonction liberer_tableau \n");
	liberer_tableau(tab2);
	printf("Fin de la fonction liberer_tableau \n \n");


	printf("Début de la fonction Affiche_tableau \n");
  affiche_tableau(tab2,5);
	printf("Fin de la fonction Affiche_tableau \n\n");


	printf("Début de la fonction recuperer_entier \n");
	Tab1 = recuperer_entier(7,15);
	affiche_tableau(Tab1,15);
	printf("Fin de la fonction recuperer_entier \n\n");


	printf("Début de la fonction allouer_matrice \n");
	int **tab2D = allouer_matrice(5,5,60);
	printf("Fin de la fonction allouer_matrice \n\n");


	printf("Début de la fonction afficher_matrice \n");
	afficher_matrice(tab2D,5,5);
	printf("Fin de la fonction afficher_matrice \n\n");


	printf("Début de la fonction liberer_matrice \n");
	liberer_matrice(tab2D,5);
	afficher_matrice(tab2D,5,5);
	printf("Fin de la fonction liberer_matrice \n\n");

	printf("Fin L EXO1:  \n \n \n");

}
int main(int argc, char **argv)
{
	test();
	return 0;
}
/*

+----------------------------------------------------------------------------------------------------------------------------------------------------s
-                                                                                                                                                    o
-                                                                                                                                                    o
-                      `--`                                                                                                                          o
-                    `-.`..-.                                                                                                                        o
-                    ...`:--.--`                                                                                        .-.``.:`                     o
-                    .o  `.`.-..-.                                                                                   `--:/-`..-                      o
-                    `:   .`  .-..--`                                                                              .----`-  .+`                      o
-                     .   ``    `--`.-`                                                                         `----.  ``  `:                       o
-                     -    -      `.-..-.`                                                                   `.----`   `.   .`                       o
-                     -    `.        .-...-`                                                               .----.      .    .                        o
-                     ``    .          `-...-.                                                          `.---.`       ``   .`                        o
-                     `.    .`           `.-..-.`                                                     .----`         `.   `.                         o
-                     `.    `.              `-.`.-.                                                .----.`           .`   .`                         o
-                      .     .`               `--``-.                                           `.---.`             .`    -                          o
-                      .     `.                 `::`-.                                        .----.`              `.    .`                          o
-                      .`     .`              `....- -`                                     `--:.`                 .`   `.                           o
-                      .`     `.           `.-.`   -` -`                                   ----.-.``              `.    .`                           o
-                      ``      .         `.-`      `- `:`                                `-.-.   ``.-.``         `.     -                            o
-                      `.      `.     `.-.`         -. `:`                             `.-.-`        ``...``     .`    .`                            o
-                      `.       -   .-.`            `-  ::-..````````````````````````.-::`-              ``...```.     .                             o
-                       .       `-.-.               .- .:  ``````               `````  `/`:                  `.:+`    ``                             o
-                       .      `-+:.`               :`.:       ``````       ``````      --:               ``...--.`   .                              o
-                       .   `..`.- `.-.`            :`/`            `......``            /-.           `...`   : `.  .`                              o
-                       .`..`   :`    `.-.`        ..:.          ```.--+o:...```         .+.       ``...`     -.   .`-                               o
-                       `:`     :        `.-.`     -:-      ```...````:. -- ``....```     //    `....         :    `/`                               o
-                        `-.   `-           `...`  +: ```....``     .:`   --      ``..-.``.s``...`           -` `.-.`                                o
-                          .-  ..              `.-/y-..```         .-      -:           ``-o//-...`````     `:`...                                   o
-                           `-`:`     ``....-......--`            --        .:`          ::`    ````.`.....-/:.                                      o
-                             :+..-.....```        ``-/`        `:.          .:`       .:-......`           `.                                       o
-                             ..     `...............``--`     `:.            `:`    `--       `........`    `.                                      o
-                            `.   `:.`                  `--`  .:`              `:`  .:`                 ....- .`                                     o
-                           `.   .-`                      `:--:                 `:.:.                       .- .`                                    o
-                           .` `-.             ```````......::                    o-....```                  `:`-                                    o
-                          `. `-`    `:....-..``.`````-:    ``                    -`   ``:..`......-....`     `-..                                   o
-                         `- --   .----                :`   ``                    -`    `-             ./--`    --.                                  o
-                         ..:` .-.` `-                 `-   .                     -.    :`              `-``--.  .:`                                 o
-                        .:---.`   .-                   -`  .                     -.   .-                 -`  `.--.o`                                o
-                       .y:.      `-  ..-.`...`.--.`...`:-  -                     ..   +-.-......`         -`    `./o                                o
-                       -`       `: .-`                  :  -                     `-  -.         `..........:`      `-                               o
-                      `.       `-.:-`````               `-`.                      : `:                     :+`      `-                              o
-                      .`      `::/-//-.::.......--....-  :..                      / -. ..````````````--``.:--s-      `.                             o
-                      -      `oo-`  `:-  .-.          `-..-`     <MR-STRUCT>      :.-`-.         `.--` `--``-:o-      `.                            o
-                     .`    `./:.      `:-  `--`         `-s-                      -+-.         .--`  .-.`    ./o..``   `.                           o
-                     . ....`   `..`     .:.   .-.      `.:s-                      :y..``    .--`   .-`   `--:.`    ``..`:.                          o
-                    ./.`          `...`   .:`   `--`.-..--`:                     `:--```....`   `--` `.---`           `.`                           o
-                     `..`             `..`` .-`   `.` `:.  -`                    -. .-        `-.`.---`            `..`                             o
-                        `.`              `...`--`    .:`   `-                   `:   `-`    .-----`              `..                                o
-                          `.`               ``..:- `--      :`                  -`    `-.`:/:..`               `.`                                  o
-                            `--........```......-/++.       -.                 `-       o+:...`.......````...-.`                                    o
-                               `..``      ``````` `o:       `-                 :`     `:+               ``.``                                       o
-                                  ````             -::`      :`               .-     `-:`            ``.`                                           o
-                                     `````         `-.:`     `-               :`    .-.-         ``.``                                              o
-                                        ``.``       :``:`     -              .-    .- -`      ``.``                                                 o
-                                            ````    `- `:`    -`             :    .- .-   ``.``                                                     o
-                                               `..`` :  `:.   `-            -.   -.  -```.``                                                        o
-                                                  ``.-.   :.   :`          `:  `-`  .:.``                                                           o
-                                                     `.    --  .-          -. `-`   -`                                                              o
-                                                      .`    -- `-         `: .-    .`                                                               o
-                                                      `.     .:`-`        :.--     .                                                                o
-                                                       .      ./.-       .::.     .`                                                                o
-                                                       .`    `-+//       //+-`   `.                                                                 o
-                                                       `.  `:- -`o/-...-:o.`.:.  .`                                                                 o
-                                                        ..:-   - `o.```.+`.`  .:..                                                                  o
-                                                        `/`    -  `-`.`-. .`   `/                                                                   o
-                                                         `-`   -   `.+.`  .`  `-`                                                                   o
-                                                          `:.  -  `.`...  .` `-                                                                     o
-                                                            -- - `.  .``.`.`.-                                                                      o
-                                                             .::.----::-.----                                                                       o
-                                                              `+//-.```.:/+-                                                                        o
-                                                                 *********                                                                          o
-                                                                   *****                                                                            o
-                                                                    		                                                                             o
-                                                                                                                                                    o
-                                                                                                                                                    o
o::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::y

*/
