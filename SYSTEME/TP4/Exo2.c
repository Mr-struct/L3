/*
@autor : Sofiane BELMEHDI
GitHub : https://github.com/Mr-struct/
WebSite: http://mrstruct.000webhostapp.com/
#################################################################
#	Attention!!	je m'adresse aux petits malins
#	ne copiez pas ce code pour votre tp de Systeme
#	je le saurai alors évitez moi svp du travail en plus
#	Vous avez le droit de modifier ce code
#	et de l'utiliser pour comprendre
#	Merci! 													    													
#################################################################
Hack to learn don't learn to hack!

+----------------------------------------------------------------------------------------------------------------------------------------------------s
-                                                                                                                                                    o
-                                                                                                                                                    o
-                      `--`                                                                                                                          o
-                    `-.`..-.                                                                                                                        o
-                    ...`:--.--`                                                                                        .-.``.:`                     o
-                    .o  `.`.-..-.                                                                                   `--:/-`..-                      o
-                    `:   .`  .-..--`                                                                              .----`-  .+`                      o
-                     .   ``    `--`.-`                                                                         `----.  ``  `:                       o
-                     -    -      `.-..-.`                                                                   `.----`   `.   .`                       o
-                     -    `.        .-...-`                                                               .----.      .    .                        o
-                     ``    .          `-...-.                                                          `.---.`       ``   .`                        o
-                     `.    .`           `.-..-.`                                                     .----`         `.   `.                         o
-                     `.    `.              `-.`.-.                                                .----.`           .`   .`                         o
-                      .     .`               `--``-.                                           `.---.`             .`    -                          o
-                      .     `.                 `::`-.                                        .----.`              `.    .`                          o
-                      .`     .`              `....- -`                                     `--:.`                 .`   `.                           o
-                      .`     `.           `.-.`   -` -`                                   ----.-.``              `.    .`                           o
-                      ``      .         `.-`      `- `:`                                `-.-.   ``.-.``         `.     -                            o
-                      `.      `.     `.-.`         -. `:`                             `.-.-`        ``...``     .`    .`                            o
-                      `.       -   .-.`            `-  ::-..````````````````````````.-::`-              ``...```.     .                             o
-                       .       `-.-.               .- .:  ``````               `````  `/`:                  `.:+`    ``                             o
-                       .      `-+:.`               :`.:       ``````       ``````      --:               ``...--.`   .                              o
-                       .   `..`.- `.-.`            :`/`            `......``            /-.           `...`   : `.  .`                              o
-                       .`..`   :`    `.-.`        ..:.          ```.--+o:...```         .+.       ``...`     -.   .`-                               o
-                       `:`     :        `.-.`     -:-      ```...````:. -- ``....```     //    `....         :    `/`                               o
-                        `-.   `-           `...`  +: ```....``     .:`   --      ``..-.``.s``...`           -` `.-.`                                o
-                          .-  ..              `.-/y-..```         .-      -:           ``-o//-...`````     `:`...                                   o
-                           `-`:`     ``....-......--`            --        .:`          ::`    ````.`.....-/:.                                      o
-                             :+..-.....```        ``-/`        `:.          .:`       .:-......`           `.                                       o
-                             ..     `...............``--`     `:.            `:`    `--       `........`    `.                                      o
-                            `.   `:.`                  `--`  .:`              `:`  .:`                 ....- .`                                     o
-                           `.   .-`                      `:--:                 `:.:.                       .- .`                                    o
-                           .` `-.             ```````......::                    o-....```                  `:`-                                    o
-                          `. `-`    `:....-..``.`````-:    ``                    -`   ``:..`......-....`     `-..                                   o
-                         `- --   .----                :`   ``                    -`    `-             ./--`    --.                                  o
-                         ..:` .-.` `-                 `-   .                     -.    :`              `-``--.  .:`                                 o
-                        .:---.`   .-                   -`  .                     -.   .-                 -`  `.--.o`                                o
-                       .y:.      `-  ..-.`...`.--.`...`:-  -                     ..   +-.-......`         -`    `./o                                o
-                       -`       `: .-`                  :  -                     `-  -.         `..........:`      `-                               o
-                      `.       `-.:-`````               `-`.                      : `:                     :+`      `-                              o
-                      .`      `::/-//-.::.......--....-  :..                      / -. ..````````````--``.:--s-      `.                             o
-                      -      `oo-`  `:-  .-.          `-..-`     <MR-STRUCT>      :.-`-.         `.--` `--``-:o-      `.                            o
-                     .`    `./:.      `:-  `--`         `-s-                      -+-.         .--`  .-.`    ./o..``   `.                           o
-                     . ....`   `..`     .:.   .-.      `.:s-                      :y..``    .--`   .-`   `--:.`    ``..`:.                          o
-                    ./.`          `...`   .:`   `--`.-..--`:                     `:--```....`   `--` `.---`           `.`                           o
-                     `..`             `..`` .-`   `.` `:.  -`                    -. .-        `-.`.---`            `..`                             o
-                        `.`              `...`--`    .:`   `-                   `:   `-`    .-----`              `..                                o
-                          `.`               ``..:- `--      :`                  -`    `-.`:/:..`               `.`                                  o
-                            `--........```......-/++.       -.                 `-       o+:...`.......````...-.`                                    o
-                               `..``      ``````` `o:       `-                 :`     `:+               ``.``                                       o
-                                  ````             -::`      :`               .-     `-:`            ``.`                                           o
-                                     `````         `-.:`     `-               :`    .-.-         ``.``                                              o
-                                        ``.``       :``:`     -              .-    .- -`      ``.``                                                 o
-                                            ````    `- `:`    -`             :    .- .-   ``.``                                                     o
-                                               `..`` :  `:.   `-            -.   -.  -```.``                                                        o
-                                                  ``.-.   :.   :`          `:  `-`  .:.``                                                           o
-                                                     `.    --  .-          -. `-`   -`                                                              o
-                                                      .`    -- `-         `: .-    .`                                                               o
-                                                      `.     .:`-`        :.--     .                                                                o
-                                                       .      ./.-       .::.     .`                                                                o
-                                                       .`    `-+//       //+-`   `.                                                                 o
-                                                       `.  `:- -`o/-...-:o.`.:.  .`                                                                 o
-                                                        ..:-   - `o.```.+`.`  .:..                                                                  o
-                                                        `/`    -  `-`.`-. .`   `/                                                                   o
-                                                         `-`   -   `.+.`  .`  `-`                                                                   o
-                                                          `:.  -  `.`...  .` `-                                                                     o
-                                                            -- - `.  .``.`.`.-                                                                      o
-                                                             .::.----::-.----                                                                       o
-                                                              `+//-.```.:/+-                                                                        o
-                                                                 *********                                                                          o
-                                                                   *****                                                                            o
-                                                                    		                                                                             o
-                                                                                                                                                    o
-                                                                                                                                                    o
o::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::y
*/
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <string.h>
/*
  * initialise un tableau à valeur
  * dabord on init les deux premier case
  * puis on double la taille du tableau et
  * on copie les cases allouer dans les cases vides
  *
*/
int *initialiser_vecteur_v1(int n, int valeur) {
  int len = 1;
  int *vecteur = malloc(n * sizeof(int[n])); // allocation memoir d'un tableau de taille n
  vecteur[0] = valeur; //init de la premier case à valeur
  memcpy(vecteur+len,vecteur,sizeof(int[n])); // on les valeur de l'espace allouer directement dans les cases vides

  while(2*len<=n) {
    memcpy(vecteur+len*2,vecteur,sizeof(int[n])); // on copie les valeur presentes de le tableau dans la suite de ce dernier
    vecteur = realloc(vecteur, 2*n*sizeof(int[n])); // on augmente la taille actuelle de notre tableau
    len = len+1; // on incremante le compteur
  }
  return vecteur;
}
/*
  initialise un tableau de char avec c
*/
char * initialiser_tableau_char(int dimension, char c) {
  char *tab =malloc(dimension *sizeof(char[dimension]));
  memset(tab,(int)c,dimension * sizeof(char[dimension]));// remplit les n octets de la zonne memoire tab avec c
  return tab;

}
char *copier_tabealu_char(char *src, int dimension) {
    char *tab = malloc(dimension * sizeof(char[dimension]));
    memmove(tab,src, dimension *sizeof(char[dimension])); // copie les n octes depuis la zone meoire src vers tab
    return tab;
}

void affiche_vect(int *tab,int d) {
    for(int i = 0; i< d; i++) {
      printf("TAB[%d] = %d\n",i,tab[i]);
    }
}

void affiche_tab_char(int *tab,int d) {
    for(int i = 0; i< d; i++) {
      printf("TAB[%d] = %c\n",i,tab[i]);
    }
}
 int main() {
   // test
   printf("Début de la fonction initialiser_vecteur_v1\n");
   int *vect = initialiser_vecteur_v1(10,2);
   affiche_vect(vect,10);
   printf("Fin de la fonction initialiser_vecteur_v1 \n \n");

   printf("Début de la fonction initialiser_tableau_char\n");
   char *tab = initialiser_tableau_char(10,'a');
   affiche_tab_char(tab,10);
   printf("Fin de la fonction initialiser_tableau_char\n\n");

   printf("Début de la fonction copier_tabealu_char\n");
   char *tab2 = copier_tabealu_char(tab,20);
   affiche_tab_char(tab2,10);
   printf("Fin de la fonction copier_tabealu_char\n\n");


   return 0;
 }
/*

+----------------------------------------------------------------------------------------------------------------------------------------------------s
-                                                                                                                                                    o
-                                                                                                                                                    o
-                      `--`                                                                                                                          o
-                    `-.`..-.                                                                                                                        o
-                    ...`:--.--`                                                                                        .-.``.:`                     o
-                    .o  `.`.-..-.                                                                                   `--:/-`..-                      o
-                    `:   .`  .-..--`                                                                              .----`-  .+`                      o
-                     .   ``    `--`.-`                                                                         `----.  ``  `:                       o
-                     -    -      `.-..-.`                                                                   `.----`   `.   .`                       o
-                     -    `.        .-...-`                                                               .----.      .    .                        o
-                     ``    .          `-...-.                                                          `.---.`       ``   .`                        o
-                     `.    .`           `.-..-.`                                                     .----`         `.   `.                         o
-                     `.    `.              `-.`.-.                                                .----.`           .`   .`                         o
-                      .     .`               `--``-.                                           `.---.`             .`    -                          o
-                      .     `.                 `::`-.                                        .----.`              `.    .`                          o
-                      .`     .`              `....- -`                                     `--:.`                 .`   `.                           o
-                      .`     `.           `.-.`   -` -`                                   ----.-.``              `.    .`                           o
-                      ``      .         `.-`      `- `:`                                `-.-.   ``.-.``         `.     -                            o
-                      `.      `.     `.-.`         -. `:`                             `.-.-`        ``...``     .`    .`                            o
-                      `.       -   .-.`            `-  ::-..````````````````````````.-::`-              ``...```.     .                             o
-                       .       `-.-.               .- .:  ``````               `````  `/`:                  `.:+`    ``                             o
-                       .      `-+:.`               :`.:       ``````       ``````      --:               ``...--.`   .                              o
-                       .   `..`.- `.-.`            :`/`            `......``            /-.           `...`   : `.  .`                              o
-                       .`..`   :`    `.-.`        ..:.          ```.--+o:...```         .+.       ``...`     -.   .`-                               o
-                       `:`     :        `.-.`     -:-      ```...````:. -- ``....```     //    `....         :    `/`                               o
-                        `-.   `-           `...`  +: ```....``     .:`   --      ``..-.``.s``...`           -` `.-.`                                o
-                          .-  ..              `.-/y-..```         .-      -:           ``-o//-...`````     `:`...                                   o
-                           `-`:`     ``....-......--`            --        .:`          ::`    ````.`.....-/:.                                      o
-                             :+..-.....```        ``-/`        `:.          .:`       .:-......`           `.                                       o
-                             ..     `...............``--`     `:.            `:`    `--       `........`    `.                                      o
-                            `.   `:.`                  `--`  .:`              `:`  .:`                 ....- .`                                     o
-                           `.   .-`                      `:--:                 `:.:.                       .- .`                                    o
-                           .` `-.             ```````......::                    o-....```                  `:`-                                    o
-                          `. `-`    `:....-..``.`````-:    ``                    -`   ``:..`......-....`     `-..                                   o
-                         `- --   .----                :`   ``                    -`    `-             ./--`    --.                                  o
-                         ..:` .-.` `-                 `-   .                     -.    :`              `-``--.  .:`                                 o
-                        .:---.`   .-                   -`  .                     -.   .-                 -`  `.--.o`                                o
-                       .y:.      `-  ..-.`...`.--.`...`:-  -                     ..   +-.-......`         -`    `./o                                o
-                       -`       `: .-`                  :  -                     `-  -.         `..........:`      `-                               o
-                      `.       `-.:-`````               `-`.                      : `:                     :+`      `-                              o
-                      .`      `::/-//-.::.......--....-  :..                      / -. ..````````````--``.:--s-      `.                             o
-                      -      `oo-`  `:-  .-.          `-..-`     <MR-STRUCT>      :.-`-.         `.--` `--``-:o-      `.                            o
-                     .`    `./:.      `:-  `--`         `-s-                      -+-.         .--`  .-.`    ./o..``   `.                           o
-                     . ....`   `..`     .:.   .-.      `.:s-                      :y..``    .--`   .-`   `--:.`    ``..`:.                          o
-                    ./.`          `...`   .:`   `--`.-..--`:                     `:--```....`   `--` `.---`           `.`                           o
-                     `..`             `..`` .-`   `.` `:.  -`                    -. .-        `-.`.---`            `..`                             o
-                        `.`              `...`--`    .:`   `-                   `:   `-`    .-----`              `..                                o
-                          `.`               ``..:- `--      :`                  -`    `-.`:/:..`               `.`                                  o
-                            `--........```......-/++.       -.                 `-       o+:...`.......````...-.`                                    o
-                               `..``      ``````` `o:       `-                 :`     `:+               ``.``                                       o
-                                  ````             -::`      :`               .-     `-:`            ``.`                                           o
-                                     `````         `-.:`     `-               :`    .-.-         ``.``                                              o
-                                        ``.``       :``:`     -              .-    .- -`      ``.``                                                 o
-                                            ````    `- `:`    -`             :    .- .-   ``.``                                                     o
-                                               `..`` :  `:.   `-            -.   -.  -```.``                                                        o
-                                                  ``.-.   :.   :`          `:  `-`  .:.``                                                           o
-                                                     `.    --  .-          -. `-`   -`                                                              o
-                                                      .`    -- `-         `: .-    .`                                                               o
-                                                      `.     .:`-`        :.--     .                                                                o
-                                                       .      ./.-       .::.     .`                                                                o
-                                                       .`    `-+//       //+-`   `.                                                                 o
-                                                       `.  `:- -`o/-...-:o.`.:.  .`                                                                 o
-                                                        ..:-   - `o.```.+`.`  .:..                                                                  o
-                                                        `/`    -  `-`.`-. .`   `/                                                                   o
-                                                         `-`   -   `.+.`  .`  `-`                                                                   o
-                                                          `:.  -  `.`...  .` `-                                                                     o
-                                                            -- - `.  .``.`.`.-                                                                      o
-                                                             .::.----::-.----                                                                       o
-                                                              `+//-.```.:/+-                                                                        o
-                                                                 *********                                                                          o
-                                                                   *****                                                                            o
-                                                                    		                                                                             o
-                                                                                                                                                    o
-                                                                                                                                                    o
o::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::y

*/
